{"version":3,"sources":["webpack:///./src/views/Login.vue?721f","webpack:///./src/assets/img/ROSA.png","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?50b2"],"names":["module","exports","class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_createVNode","_component_Background","_hoisted_3","_hoisted_5","_hoisted_7","onSubmit","$options","_Fragment","_renderList","$setup","form","username","$errors","error","index","key","$message","_component_BaseInput","$model","$event","label","input__error","length","password","type","autocomplete","$data","_toDisplayString","disabled","$invalid","_hoisted_13","_createBlock","_component_Spinner","_hoisted_14","_component_router_link","to","_hoisted_16","name","components","Background","BaseInput","Spinner","setup","v$","useVuelidate","data","showSpinner","errorMessage","methods","mapMutations","login","fetch","method","headers","body","JSON","stringify","response","json","ok","afterLogin","errorHandler","console","log","this","setToken","token","localStorage","setItem","$router","push","message","validations","required","__exports__","render"],"mappings":"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","file":"js/login.9fde8a53.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=86cc657c&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/ROSA.b652b9c2.png\";","<template>\r\n  <div class=\"main__container\">\r\n    <Background />\r\n    <section class=\"section__form display-flex\">\r\n      <h1 class=\"h1\">\r\n        Vue <span class=\"h1__span\">jasonwebtoken</span> example\r\n      </h1>\r\n\r\n      <div class=\"container\">\r\n        <div class=\"container__img\">\r\n          <img class=\"img\" src=\"../assets/img/ROSA.png\" alt=\"Vue form\" />\r\n        </div>\r\n        <div class=\"container__form display-flex\">\r\n          <h2 class=\"h2\">INSERT YOUR USER AND PASSWORD</h2>\r\n          <form class=\"form display-flex\" @submit.prevent=\"login\">\r\n            <label class=\"label__error\">\r\n              <span class=\"label__span\" v-for=\"(error, index) of v$.form.username.$errors\" :key=\"index\">{{ error.$message }}</span>\r\n            </label> <!-- Username is required -->\r\n            <BaseInput v-model=\"v$.form.username.$model\" label=\"Username\" :class=\"{ input__error: v$.form.username.$errors.length }\" />\r\n            <label class=\"label__error\">\r\n              <span class=\"label__span\" v-for=\"(error, index) of v$.form.password.$errors\" :key=\"index\">{{ error.$message }}</span>  \r\n            </label> <!-- Password is required -->\r\n            <BaseInput type=\"password\" v-model=\"v$.form.password.$model\" label=\"Password\" autocomplete=\"on\" :class=\"{ input__error: v$.form.password.$errors.length }\" />\r\n            <label class=\"label__error text-center\">\r\n              <span v-if=\"errorMessage\" class=\"label__span\">{{errorMessage}}</span>\r\n            </label>\r\n            <button :disabled=\"v$.form.$invalid || showSpinner\" class=\"btn__main btn__login\" type=\"submit\">\r\n              <span v-if=\"!showSpinner\">LOGIN</span>\r\n              <Spinner v-if=\"showSpinner\" />\r\n            </button>\r\n          </form>\r\n          <p class=\"paragraph\">Doesn't have an account yet?</p>\r\n          <router-link class=\"link\" to=\"/auth/signin\"\r\n            >Please register here...</router-link\r\n          >\r\n        </div>\r\n      </div>\r\n      <h3 class=\"h3\">\r\n        A VueJS jasonwebtoken application with form validations\r\n      </h3>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Background from '@/components/Background.vue';\r\nimport BaseInput from '@/components/BaseInput.vue';\r\nimport Spinner from '@/components/Spinner.vue'\r\nimport useVuelidate from '@vuelidate/core'\r\nimport { mapMutations } from \"vuex\";\r\nimport { required } from '@vuelidate/validators'\r\nexport default {\r\n  name: \"Login\",\r\n  components: {\r\n    Background,\r\n    BaseInput,\r\n    Spinner\r\n  },\r\n  setup () {\r\n    return { v$: useVuelidate() }\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      showSpinner: false,\r\n      errorMessage: ''\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setToken\"]),\r\n    async login() {\r\n      this.showSpinner=!false;\r\n      try {\r\n        const response = await fetch(\r\n          `https://backend-node-server.herokuapp.com/api/vueforms/login`,\r\n          // `http://localhost:3000/api/vueforms/login`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n              username: this.form.username,\r\n              password: this.form.password,\r\n            }),\r\n          }\r\n        );\r\n        const data = await response.json();\r\n        data.ok ? this.afterLogin(data) : this.errorHandler(data)\r\n      } catch (error) {\r\n        console.log(error);\r\n        this.showSpinner=!true;\r\n      }\r\n    },\r\n    afterLogin(data) {\r\n      this.setToken(data.token);\r\n      localStorage.setItem(\"jwtapptoken\", data.token);\r\n      this.showSpinner=!true;\r\n      this.$router.push(\"/auth/me\");\r\n    },\r\n    errorHandler(data) {\r\n      console.log(data);\r\n      const { message }  = data;\r\n      this.showSpinner=!true;\r\n      this.errorMessage = message;\r\n    }\r\n  },\r\n  validations () {\r\n    return {\r\n      form: {\r\n        username: { \r\n          required\r\n        },\r\n        password: {\r\n           required \r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main__container {\r\n  background-color: var(--color-background);\r\n  text-align: center;\r\n}\r\n\r\n.h1__span {\r\n  color: var(--color-gray);\r\n  font-weight: 900;\r\n}\r\n\r\n.container {\r\n  background: var(--background-light);\r\n  padding: 15px;\r\n  margin: 15px;\r\n  margin-top: 0;\r\n  border-radius: 5px;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.container__form {\r\n  flex-direction: column;\r\n}\r\n\r\n.img {\r\n  width: 62%;\r\n  border-radius: 10px 0;\r\n}\r\n\r\n.h1 {\r\n  font-size: 32px;\r\n  font-weight: 400;\r\n  padding: 50px 0 30px 0;\r\n}\r\n\r\n.h2 {\r\n  font-size: 13px;\r\n  margin: 10px 0;\r\n  color: var(--color-blue);\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.form {\r\n  flex-direction: column;\r\n}\r\n\r\n.btn__login,\r\n.paragraph,\r\n.h1 {\r\n  letter-spacing: 1.2px;\r\n}\r\n\r\n.btn__login {\r\n  padding: 15px 10px;\r\n  border-radius: 5px;\r\n  font-weight: 900;\r\n  // margin: 25px 0;\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.link {\r\n  max-width: 150px;\r\n  margin: 5px 0;\r\n  color: var(--color-orange);\r\n  font-style: italic;\r\n}.link:hover {\r\n  color: var(--color-orange-light);\r\n  transition: 0.3s ease-in-out;\r\n}\r\n\r\n.h3 {\r\n  margin: 20px 10px;\r\n  font-weight: 400;\r\n  font-size: 15px;\r\n}\r\n\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n@media (min-width: 700px) { \r\n\r\n  .h1 {\r\n    font-size: 36px;\r\n    font-weight: 400;\r\n    padding: 4.5vw 0;\r\n  }\r\n\r\n  .container {\r\n    display: flex;\r\n    width: 675px;\r\n    margin: auto;\r\n  }\r\n\r\n  .container__img {\r\n    width: 30%;\r\n    position: relative;\r\n  }\r\n\r\n  .img {\r\n    position: absolute;\r\n    border-radius: 0;\r\n    width: 110%;\r\n    right: 3%;\r\n    bottom: .5%;\r\n  }\r\n\r\n  .container__form {\r\n    width: 70%;\r\n    padding: .2vw .8vw .8vw;\r\n  }\r\n\r\n  .h2, .paragraph, .link {\r\n    text-align: start;\r\n  }\r\n\r\n  .paragraph {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .link {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .h3 {\r\n    font-size: initial;\r\n    margin-top: 2.5vw;\r\n  }\r\n}\r\n\r\n// https://kevin-powell.ck.page/87e4f27ed0\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=86cc657c&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=86cc657c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Admin\\\\Documents\\\\A-projects\\\\vue-reactive-form\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-86cc657c\"]])\n\nexport default __exports__"],"sourceRoot":""}